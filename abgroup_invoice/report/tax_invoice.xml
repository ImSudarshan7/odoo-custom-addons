<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="paperformat_abgroup_invoice" model="report.paperformat">
            <field name="name">US Letter</field>
            <field name="default" eval="True"/>
            <field name="format">A4</field>
            <field name="page_height">0</field>
            <field name="page_width">0</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">30</field>
            <field name="margin_bottom">30</field>
            <field name="margin_left">15</field>
            <field name="margin_right">5</field>
            <field name="header_line" eval="False"/>
            <field name="header_spacing">20</field>
            <field name="dpi">90</field>
        </record>

        <!--Report action Configuration-->
        <record id="report_tax_invoice" model="ir.actions.report">
            <field name="name">Tax Invoice Report</field>
            <field name="model">account.move</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">abgroup_invoice.invoice_template_report_id</field>
            <field name="report_file">abgroup_invoice.invoice_template_report_id</field>
            <field name="paperformat_id" ref="abgroup_invoice.paperformat_abgroup_invoice"/>
            <field name="binding_type">report</field>
        </record>
        <record id="report_tax_invoice_duplicate" model="ir.actions.report">
            <field name="name">Duplicates</field>
            <field name="model">account.move</field>
            <field name="report_type">qweb-pdf</field>
            <field name="paperformat_id" ref="abgroup_invoice.paperformat_abgroup_invoice"/>
            <field name="report_name">abgroup_invoice.invoice_report_duplicate_main</field>
            <field name="report_file">abgroup_invoice.invoice_report_duplicate_main</field>
        </record>

<!--        <report-->
<!--                id="invoice_action_report_duplicate"-->
<!--                model="account.move"-->
<!--                string="Duplicates"-->
<!--                report_type="qweb-pdf"-->
<!--                name="abgroup_invoice.invoice_report_duplicate_main"-->
<!--                file="abgroup_invoice.invoice_report_duplicate_main"-->
<!--                attachment_use="False"-->
<!--        />-->
        <template id="external_layout_invoice">
            <t t-if="o and 'company_id' in o">
                <t t-set="company" t-value="o.company_id"></t>
            </t>
            <t t-if="not o or not 'company_id' in o">
                <t t-set="company" t-value="res_company"></t>
            </t>
            <t t-call="abgroup_invoice.external_layout_invoice_header"/>
            <t t-call="abgroup_invoice.external_layout_invoice_footer"/>
            <t t-raw="0"/>
        </template>

        <!-- Header template -->
        <template id="external_layout_invoice_header">
            <div class="header">
                <div>
                    <table width="100%">
                        <tr>
                            <td width="50%" align="left">
                                <b t-if="company.vat">VAT Number :
                                    <t t-esc="company.vat"/>
                                </b>
                            </td>
                            <td width="50%" align="right">
                                <b t-if="company.phone">
                                <i class="fa fa-phone icon-large"></i>
                                <t t-esc="company.phone"/>
                                </b>
                            </td>
                        </tr>
                    </table>
                </div>
                <br/>
                <div class="row">
                    <div class="col-xs-2" align="left" style="padding-left:7px">
                        <img t-if="company.logo" t-att-src="image_data_uri(company.logo)"
                             style="max-height:82px;max-width:105px" alt="Company Logo"/>
                    </div>
                    <div class="col-xs-8" align="center" style="margin-left:18%">
                        <t t-if="company.name">
                            <b style="font-size:30px">
                                <t t-esc="company.name"/>
                            </b>
                            <br/>
                        </t>
                        <t t-if="company.street">
                            <b style="font-size:16px">
                                <t t-esc="company.street"/>
                            </b>
                        </t>
                        <t t-if="company.street2">,
                            <b style="font-size:16px">
                                <t t-esc="company.street2"/>
                            </b>
                        </t>
                        <t t-if="company.state_id.name">
                            <b style="font-size:16px">
                                <t t-esc="company.state_id.name"/>
                            </b>
                        </t>
                        <t t-if="company.country_id">,
                            <b style="font-size:16px">
                                <t t-esc="company.country_id.name"/>
                            </b>
                        </t>
                    </div>

                    <div class="col-xs-2" align="right" style="margin-left:15%">
                        <img src='/abgroup_invoice/static/src/img/logo-toyota.png'
                             style="max-height:78px;max-width:95px;"/>
                    </div>
                </div>
            </div>
        </template>

        <!-- Footer template -->
        <template id="external_layout_invoice_footer">
            <div class="footer" style="padding-top:30px; font-size:16px;">
                <div class="row" style="border-top: 1px solid black; padding-top: 10px;">
                    <table width="100%">
                        <tr>
                            <td width="33%" align="left">
                                <b>Customer's Signature</b>
                            </td>
                            <td width="33%" align="center">
                                <b>E.No.E.</b>
                            </td>
                            <td width="33%" align="right">
                                <b>for:Global Auto Point Pvt. Ltd.</b>
                                <br/>
                                <small>
                                    <span>Page:</span>
                                    <t t-if="o._name == 'account.move' and o.move_type == 'out_invoice'">
                                        <span t-esc="1"/> <!-- Default to 1 if context is unavailable -->
                                    </t>
                                    <t t-else="">
                                        <span class="page"/>
                                    </t>
                                    of
                                    <t t-if="o._name == 'account.move' and o.move_type == 'out_invoice'">
                                        <span t-esc="1"/> <!-- Default to 1 -->
                                    </t>
                                    <t t-else="">
                                        <span class="topage"/>
                                    </t>
                                </small>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </template>
    </data>
</odoo>