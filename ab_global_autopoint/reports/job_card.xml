<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="job_card">
        <t t-call="web.html_container">
            <t t-call="ab_global_autopoint.external_layout_jobcard">
                <p>Debug: name of doc -
                    <t t-esc="len(docs)"/>
                </p>
                <t t-foreach="docs" t-as="o">
                    <br/>
                    <div class="page">
                        <div class="row" style="font-size:12px">
                            <div align="left" style="font-size:18px" >
                                <b>Job Number:
                                    <t t-esc="o.name"/>
                                </b>
                            </div>
                            <br/>
                            <div class="col-xs-12">
                                <table rules="all" class="table table-bordered table-condensed">
                                    <tr>
                                        <td width="30%">
                                            <b>Name. :</b>
                                            <t t-esc="o.customer_id.name"/>
                                        </td>
                                        <td width="30%">
                                            <b>Vehicle Number:</b>
                                            <t t-esc="o.vehicle_id.vehicle_no"/>
                                        </td>
                                        <td width="30%">
                                            <b>Date In :</b>
                                            <t t-esc="o.date_in"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td width="30%">
                                            <b>Address :</b>
                                            <t t-esc="o.address"/>
                                        </td>
                                        <td width="30%">
                                            <b>Model No. :</b>
                                            <t t-esc="o.model_no"/>
                                        </td>
                                        <td width="30%">
                                            <b>KM In:</b>
                                            <t t-esc="o.odometer"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td width="30%">
                                            <b>Contact Person :</b>
                                            <t t-esc="o.contact_person"/>
                                        </td>
                                        <td width="30%">
                                            <b>Model :</b>
                                            <t t-esc="o.vehicle_id.name"/>
                                        </td>
                                        <td width="30%">
                                            <b>Promise Del. Date :</b>
                                            <t t-esc="o.date_out"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td width="30%">
                                            <b>Contact Number :</b>
                                            <t t-esc="o.mobile"/>
                                        </td>
                                        <td width="30%">
                                            <b>Chasis No. :</b>
                                            <t t-esc="o.chasis_no"/>
                                        </td>
                                        <td width="30%">
                                            <b>Time :</b>
                                            <!--												comment in odoo15 -->
                                            <!--												<t t-esc="o.result_time" />-->
                                        </td>
                                    </tr>
                                    <tr>
                                        <td width="30%">
                                            <b>Email :</b>
                                            <t t-esc="o.email"/>
                                        </td>
                                        <td width="30%">
                                            <b>Service Type :</b>
                                            <!--												comment for odoo15-->
                                            <!--												<t t-esc = "dict (o.fields_get (allfields = ['service_type']) ['service_type'] ['selection']) [o.service_type]" />-->
                                        </td>
                                        <td width="30%">
                                            <b>Payment Method :</b>
                                            <!--												comment for odoo15-->
                                            <!--												<t t-esc = "dict (o.fields_get (allfields = ['payment_method']) ['payment_method'] ['selection']) [o.payment_method]" />-->
                                        </td>
                                    </tr>
                                    <tr>
                                        <td width="30%">
                                            <b>Insurance Details</b>
                                        </td>
                                        <td width="30%">
                                            <b>Company Name :</b>
                                            <t t-esc="o.insurance_company"/>
                                        </td>
                                        <td width="30%">
                                            <b>Valid Upto :</b>
                                            <t t-esc="o.insurance_validity"/>
                                        </td>
                                    </tr>
                                </table>
                            </div><br/>
                            <div class="col-xs-12">
                                <div class="col-xs-6">
                                    <table rules="all" class="table table-bordered table-condensed">
                                        <tr>
                                            <td width="30%">
                                                <b>Appointment: Yes/NO</b>
                                            </td>
                                            <td width="30%">
                                                <b>Estimate:</b>
                                            </td>
                                            <td width="30%">
                                                <b>DQ No:</b>
                                            </td>
                                            <td width="30%">
                                                <b>Done By:</b>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
<!--                                <div class="col-xs-6">-->
<!--                                    <table rules="all" class="table table-bordered table-condensed">-->
<!--                                        <tr>-->
<!--                                            <td width="30%">-->
<!--                                                <b>DQ No:</b>-->
<!--                                            </td>-->
<!--                                            <td width="30%">-->
<!--                                                <b>Done By:</b>-->
<!--                                            </td>-->
<!--                                        </tr>-->
<!--                                    </table>-->
<!--                                </div>-->
                            </div><br/>
                            <div class="col-xs-12">
                                <div class="col-xs-6">
                                    <table class="table table-sm table-condensed">
                                        <tr>
                                            <td width="30%">
                                                <b>Walk Around Check</b>
                                            </td>
                                        </tr>
                                    </table>
                                    <div class="col-xs-6">
                                        <img src='/ab_global_autopoint/static/src/img/car-walkaround-check.jpg'
                                             style="height: 120px; width: 100px;"/>
                                        <table class="table table-bordered table-condensed">
                                            <tr>
                                                <td width="30%">
                                                    <b>Cig. Lighter</b>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="30%">
                                                    <b>Cassettes/Cds</b>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="30%">
                                                    <b>Clock/Astrey</b>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="30%">
                                                    <b>Floor Mats</b>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div class="col-xs-6">
                                        <table class="table table-bordered table-condensed">
                                            <tr>
                                                <td width="30%">
                                                    <b>Spare Wheels</b>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="30%">
                                                    <b>Seat Covers</b>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="30%">
                                                    <b>Wheel Caps</b>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="30%">
                                                    <b>Monogram</b>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="30%">
                                                    <b>Tools Set</b>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="30%">
                                                    <b>Jack and Handle</b>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="30%">
                                                    <b>No. of Keys</b>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="30%">
                                                    <b>Others</b>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>

                                <div class="col-xs-6">
                                    <table class="table table-bordered table-condensed">
                                        <tr>
                                            <td width="30%">
                                                <b>Responsible Technician :</b>
                                            </td>
                                            <td width="30%">
                                                <b>Job Start Time :</b>
                                            </td>
                                            <td width="30%">
                                                <b>Job Completion Time :</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="30%">
                                                <t t-esc="o.technician_id.name"/>
                                            </td>
                                            <td width="30%">
                                                <t t-esc="o.job_start_time"/>
                                            </td>
                                            <td width="30%">
                                                <t t-esc="o.job_completion_time"/>
                                            </td>
                                        </tr>
                                    </table>
                                    <table class="table table-bordered table-condensed">
                                        <tr>
                                            <td width="30%">
                                                <b>Recommendation</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="30%">
                                                <p t-field="o.recommendation"/>
                                            </td>
                                        </tr>
                                    </table>
                                    <table class="table table-bordered table-condensed">
                                        <tr>
                                            <td width="30%">
                                                <b>Additional Job (if Any)</b>
                                            </td>
                                            <td width="30%">
                                                <b>Revised Del. Date :</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="30%">
                                                <t t-esc="o.additional_job"/>
                                            </td>
                                            <td width="30%">
                                                <t t-esc="o.revised_del_date"/>
                                            </td>
                                        </tr>
                                    </table>

                                    <table class="table table-bordered table-condensed">
                                        <tr>
                                            <td width="30%">
                                                <b>Parts Ordered (if Any)</b>
                                            </td>
                                        </tr>
                                        <tr t-foreach="o.ordered_part_lines" t-as="l">
                                            <td>
                                                <t t-esc="l.part_id.product_tmpl_id.name"/>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>

                            <div class="col-xs-12">
                                <div class="col-xs-6">
                                    <table class="table table-bordered table-condensed">
                                        <tr>
                                            <td width="30%">
                                                <b>Job Instruction</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="30%">
                                                <p t-field="o.job_instruction"/>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <div class="col-xs-6">
                                    <table class="table table-bordered table-condensed">
                                        <tr>
                                            <td width="30%">
                                                <b>Technician Report</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td height="50%">
                                                <p t-field="o.technician_report"/>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>

                            <div class="col-xs-12">
                                <div class="col-xs-6">
                                    <table class="table table-bordered table-condensed">
                                        <tr>
                                            <td width="30%">
                                                <b>Job Taken By :</b>
                                                <t t-esc="o.job_taking_supervisor_id.name"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="30%">
                                                <b>Signature :</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="30%">
                                                <b>Remarks (if Any) :</b>
                                                <p t-field="o.supervisor_remarks"/>
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div class="col-xs-6">
                                    <table class="table table-bordered table-condensed">
                                        <tr>
                                            <td width="30%">
                                                <b>Final Inspection Done By :</b>
                                                <t t-esc="o.final_inspecting_supervisor_id.name"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="30%">
                                                <b>Signature :</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td width="30%">
                                                <b>Remarks (if Any) :</b>
                                                <p t-field="o.inspector_remarks"/>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>

                            <div class="col-xs-12" style="font-size:12px">
                                <b>Terms and Conditions :</b>
                                <br/>
                                1. Global auto point employees may operate vehicle for purpose of repair, testing,
                                inspection and/or delivery at the customer risk.
                                <br/>
                                2. Global Auto Point shall not be held responsible for loss or damage to the vehicle or
                                article left in the vehicle in case of fire, earthquake or may other unforeseen measures
                                beyond the control of Global Auto Point.
                                <br/>
                                3. Customer agree to pay interest at the rate of 18% per annum on all accounts not paid
                                within due date.
                                <br/>
                                4. In case of litigation or non-payment of this repair order, customer agrees to submit
                                himself to the Jurisdiction on the courts.
                                <br/>
                                5. No claim for unsatisfied repairs to vehicle under repair shall be considered unless
                                received by TAWERCUTS 3 days after the vehicle has been delivered.
                            </div>
                            <div class="col-xs-12" style="font-size:12px">
                                <br/>
                                The Work, Repair and Replacement of New Parts if required here by authorized and Terms
                                Agreed to as mentioned below:
                                <table class="table table-sm table-condensed">
                                    <tr>
                                        <td width="30%">
                                            <b>Customer Name and Signature :</b>
                                            <t t-esc="o.customer_id.name"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td width="30%">
                                            <b>Date :</b>
                                            <t t-esc="o.job_completion_time"/>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </t>
            </t>
        </t>
    </template>

<!--For header footer    -->

    <template id="external_layout_jobcard">
        <t t-if="o and 'company_id' in o">
            <t t-set="company" t-value="o.company_id"></t>
        </t>
        <t t-if="not o or not 'company_id' in o">
            <t t-set="company" t-value="res_company"></t>
        </t>
        <t t-call="ab_global_autopoint.external_layout_jobcard_header"/>
        <t t-call="ab_global_autopoint.external_layout_jobcard_footer"/>
        <t t-raw="0"/>
    </template>

    <template id="external_layout_jobcard_header">
        <div class="header">
            <div class="row">
                <div class="col-xs-12" style="font-size:16px">
                    <div class="col-xs-3" align="left">
                        <b style="font-size:20px">Global Auto Point</b>
                        <t>Airport mode, Biratnagar Tel:021-463570,460965 Email:gapbrt@gmail.com</t>
                    </div>

                    <div class="col-xs-6" align="center">
                        <b style="font-size:25px">
                            <u>JOB ORDER FORM</u>
                        </b>
                        <br/>
                    </div>
                    <div class="col-xs-3" align="right">
                        <img src='/ab_global_autopoint/static/src/img/toyota-quality-service.jpg'
                             style="max-height: 100px;"/>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="external_layout_jobcard_footer">
        <div class="footer">
            <div class="row" style="font-size:12px;">
                <div align="left" style="padding-left:10px;">
                    <ul class="list-inline">
                        <li>Page:</li>
                        <li>
                            <span class="page"/>
                        </li>
                        <li>/</li>
                        <li>
                            <span class="topage"/>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </template>
</odoo>
