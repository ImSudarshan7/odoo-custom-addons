<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record model="ir.module.category" id="category_ticket_management">
        <field name="description">Helps you handle your tickets management security.</field>
        <field name="sequence">9</field>
        <field name="name">Ticket management</field>
    </record>
    <data>
        <record id="group_user" model="res.groups">
            <field name="name">User</field>
            <field name="category_id" ref="category_ticket_management"/>

        </record>

        <record id="group_employee" model="res.groups">
            <field name="name">Employee</field>
            <field name="category_id" ref="category_ticket_management"/>
            <field name="implied_ids" eval="[(4, ref('group_user'))]"/>
        </record>


        <record id="group_admin" model="res.groups">
            <field name="name">Admin</field>
            <field name="category_id" ref="category_ticket_management"/>
            <field name="implied_ids" eval="[(4, ref('group_employee'))]"/>
            <field name="users" eval="[(4, ref('base.user_root')), (4, ref('base.user_admin'))]"/>

        </record>
    </data>


    <data>
        <record id="hr.menu_hr_root" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [ref('base.group_system'), ref('hr.group_hr_manager')])]"/>
        </record>
    </data>

    <data>
        <record id="contacts.menu_contacts" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [ref('base.group_system'), ref('hr.group_hr_manager')])]"/>
        </record>
    </data>
    <data>
        <record id="base.menu_administration" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [ref('base.group_system'), ref('hr.group_hr_manager')])]"/>
        </record>
    </data>


    <data>
        <record id="ticket_management_access_rule" model="ir.rule">
            <field name="name">Ticket Management Access</field>
            <field name="model_id" ref="model_ticket_management"/>
            <field name="groups" eval="[(4, ref('group_user'))]"/>
            <field name="domain_force">[('user_id', '=', user.id)]</field>
            <field name="perm_read" eval="True"/> <!-- Enable read access -->
            <field name="perm_write" eval="False"/> <!-- Disable write access -->
            <field name="perm_create" eval="False"/> <!-- Disable create access -->
            <field name="perm_unlink" eval="False"/> <!-- Disable delete access -->
        </record>
    </data>

    <data>
        <record id="ticket_management_access_employee" model="ir.rule">
            <field name="name">Ticket Management employee</field>
            <field name="model_id" ref="model_ticket_management"/>
            <field name="groups" eval="[(4, ref('group_employee'))]"/>
            <field name="domain_force">[('employee_ids_id.user_id', '=', user.id)]</field>
            <field name="perm_read" eval="True"/> <!-- Enable read access -->
            <field name="perm_write" eval="False"/> <!-- Disable write access -->
            <field name="perm_create" eval="False"/> <!-- Disable create access -->
            <field name="perm_unlink" eval="False"/> <!-- Disable delete access -->
        </record>
    </data>


    <record id="ticket_management_admin_access" model="ir.rule">
        <field name="name">Admin Access to All Records</field>
        <field name="model_id" ref="model_ticket_management"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('group_admin'))]"/>
    </record>

<!--    <record id="ticket_management_company_record" model="ir.rule">-->
<!--        <field name="name">Company Wise Record</field>-->
<!--        <field name="model_id" ref="model_ticket_management"/>-->
<!--        <field name="domain_force">[('company_id', 'in', 'company_ids')]</field>-->
<!--        <field name="perm_read" eval="True"/> &lt;!&ndash; Enable read access &ndash;&gt;-->
<!--        <field name="perm_write" eval="True"/> &lt;!&ndash; Disable write access &ndash;&gt;-->
<!--        <field name="perm_create" eval="True"/> &lt;!&ndash; Disable create access &ndash;&gt;-->
<!--        <field name="perm_unlink" eval="True"/>-->
<!--    </record>-->
</odoo>
